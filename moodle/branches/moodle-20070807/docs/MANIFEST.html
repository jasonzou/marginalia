<html>
<head>
	<title>Moodle Annotation Manifest</title>
	<style type="text/css">
		ol li {
			margin: 1em 0 ;
		}
	</style>
</head>
<body>
<h1>Annotation Manifest</h1>

<h2>Files in This Release</h2>

<p>These are the implementation files that should be in this package:</p>

<dl>
<dt>uninstall-annotation.sh</dt>
<dd>A script to delete the installed files and restore the originals.  Doesn't check
that nothing has changed or that replacements exist, so beware.</dd>

<dt>annotation/annotate.php</dt>
<dd>The front-end to the web service, referenced by .htaccess.  It accepts HTTP
GET, POST, and DELETE requests, and returns HTTP headers and Atom feeds.</dd>

<dt>annotation/annotation.js</dt>
<dd>The Javascript implementation of the annotation user interface and logic.</dd>

<dt>annotation/config.js</dt>
<dd>Configuration settings (for debugging, switching on nice URLs, etc.).</dd>

<dt>annotation/domutil.js</dt>
<dd>A number of generic DOM manipulation routines and abstractions around browser
differences.</dd>

<dt>annotation/annotation-styles.php</dt>
<dd>Styling for annotations.</dd>

<dt>annotation/html-model.js</dt>
<dd>Defines whether elements are block or inline, and lists which child elements are
acceptable for each.  Autogenerated by dtd2js.pl from the HTML DTD.</dd>

<dt>annotation/lang/</dt>
<dd>Translations of the Javascript portion of the annotation user interface text 
into different languages.  Only English is present for now.</dd>

<dt>annotation/log.js</dt>
<dd>Logging and debugging routines used for debugging when Firefox is run from the
command line.  Can be turned off with a flag at the top of the file.</dd>

<dt>annotation/lib.php</dt>
<dd>The back-end MySQL database code that implements the service accessed through
annotate.php.  Also includes routines used by the summary page.</dd>

<dt>annotation/post-micro.js</dt>
<dd>Defines some access methods of an individual post (i.e., annotatable object).  In
future, should be modified to match any blog/forum post microformat standard.</dd>

<dt>annotation/ranges.js</dt>
<dd>DOM code for text ranges.  This includes code which locates selected text in IE,
and conversion to and from W3C Range object ranges and the word-based ranges used
by annotation and stored in the database.</dd>

<dt>annotation/rest-annotate.js</dt>
<dd>Functions that access the web service to retrieve, create, modify, and delete
annotations.  It is REST-based.</dd>

<td>annotation/rest-prefs.js</td>
<dd>A client for a web service for setting user preferences from Javascript.
Used to set the show/hide annotations preference without doing a page load.</dd>

<dt>annotation/smartcopy.js</dt>
<dd>The smartcopy implementation.  This is independent of the annotation code,
although it does share library routines and the annotation code needs to know to
skip over hidden smartcopy elements.</dd>

<td>annotation/summary.js</td>
<dd>Javascript needed by the summary page.</dd>

<td>annotation/summary.php</td>
<dd>The summary page implementation.</dd>

<td>annotation/summary-styles.php</td>
<dd>CSS styles for the summary page.</dd>

<td>annotation/user-preference.php</td>
<dd>A web service for setting Moodle user preferences.  Used by rest-prefs.js.</dd>

<td>mod/forum/discuss.js</td>
<dd>Some Javascript code for discuss.php.</dd>

<td>mod/forum/permalink.php</td>
<dd>Used to provide persistent links to individual messages.  Used as a URL
with a message ID, it will always redirect to the discussion containing that message.</dd>

<td>lang/en/annotate.php</td>
<dd>Localized strings used by annotation.  No other languages than English are
currently implemented.</dd>

<td>util/create-db.php</td>
<dd>A script for creating the annotation table in the database.  Move it to your annotation
directory and access it from your browser, then delete it.</dd>

<dt>util/tables.sql</dt>
<dd>The MySQL definitions of the tables required by the non-static annotation
implementation.</dd>

<dt>moodle/uninstall-annotation.sh</dt>
<dd>This script will delete the additional annotation files and revert Moodle files
that were modified when annotation was installed.  Do not run it if you have made
any changes to any Moodle files since then.</dd>

</dl>

</body>
</html>
